{% extends "web/base.html" %}
{% load content_blocks %}
{% load static %}
{% load i18n %}

{% block title %}Homepage{% endblock %}

{% block hero %}
    {# TODO: fix #262 #}
    {% load_blocks "home-junior" %}
    <div class="flex items-center">
        <div class="lg:w-2/5 mt-8 lg:mt-24 mb-4 md:mb-8">
            <h1 class="text-4xl md:text-6xl font-bold mb-12 md:mb-16 bold-primary">
                {% content_block "home-junior:title" %}
            </h1>
            <a href="#" class="hero-btn">Registration</a>

            <p class="font-light mt-12 md:mt-16">Registration ends soon. REGISTER NOW!</p>
        </div>
        <div class="w-1/2 ml-auto text-center hidden lg:block">
            <img src="{% static 'img/junior/home/hall.jpg' %}" alt="Pupils competing" class="shadow-md rounded-lg mb-2">
        </div>
    </div>
{% endblock %}

{% block content %}
    {% load_blocks "home-junior" %}
    <div class="container mx-auto px-2">

        <div class="my-16 md:my-32">
            <h2 class="font-bold text-5xl mb-6 md:mb-16 text-center bold-primary">
                {% content_block "home-junior:icons-title" %}
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 mx-auto md:max-w-4xl gap-12">
                <div class="flex items-center">
                    <div class="w-16 h-16 text-2xl rounded-full bg-primary shrink-0 mr-8 flex justify-center items-center text-white">
                        <i class="fa-solid fa-question"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl">{% content_block "home-junior:icon-1-title" %}</h3>
                        <p class="text-lg">{% content_block "home-junior:icon-1-text" %}</p>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-16 h-16 text-2xl rounded-full bg-primary shrink-0 mr-8 flex justify-center items-center text-white">
                        <i class="fa-solid fa-flag"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl">{% content_block "home-junior:icon-2-title" %}</h3>
                        <p class="text-lg">{% content_block "home-junior:icon-2-text" %}</p>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-16 h-16 text-2xl rounded-full bg-primary shrink-0 mr-8 flex justify-center items-center text-white">
                        <i class="fa-solid fa-pen-ruler"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl">{% content_block "home-junior:icon-3-title" %}</h3>
                        <p class="text-lg">{% content_block "home-junior:icon-3-text" %}</p>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-16 h-16 text-2xl rounded-full bg-primary shrink-0 mr-8 flex justify-center items-center text-white">
                        <i class="fa-solid fa-cookie-bite"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl">{% content_block "home-junior:icon-4-title" %}</h3>
                        <p class="text-lg">{% content_block "home-junior:icon-4-text" %}</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex content-between items-center gap-6 lg:gap-16 my-12 md:my-32 flex-col lg:flex-row text-lg text-gray-800">
            <img src="{% static "img/junior/home/competition.jpg" %}" class="lg:w-3/5 shrink-0 rounded-md shadow-md">
            <div class="grow">
                <h2 class="font-bold text-3xl md:text-4xl mb-6 bold-primary">{% content_block "home-junior:image-1-title" %}</h2>
                {% content_block "home-junior:image-1-text" %}
            </div>
        </div>
    </div>

    <div class="bg-primary-light py-12 md:py-32">
        <div class="container text-lg text-gray-800 mx-auto px-2 flex content-between items-center gap-6 lg:gap-16 my-12 lg:my-32 flex-col-reverse lg:flex-row">
            <div class="grow">
                <h2 class="font-bold text-3xl md:text-4xl mb-6 bold-primary">{% content_block "home-junior:image-2-title" %}</h2>
                {% content_block "home-junior:image-2-text" %}
            </div>
            <img src="{% static "img/junior/home/problem-set.jpg" %}" class="md:w-3/5 shrink-0 rounded-md shadow-md">
        </div>

    </div>

    <div class="container mx-auto px-2">

        <div class="flex content-between items-center gap-6 lg:gap-16 my-12 lg:my-32 flex-col lg:flex-row text-lg text-gray-800">
            <img src="{% static 'img/junior/home/europe.svg' %}" class="md:w-2/5 shrink-0 rounded-md shadow-md">
            <div class="grow">
                <h2 class="font-bold text-3xl md:text-4xl mb-6 bold-primary">{% content_block "home-junior:image-3-title" %}</h2>
                {% content_block "home-junior:image-3-text" %}
            </div>
        </div>
    </div>


    {% if open_competition %}
        <div class="container mx-auto px-2">
            <div class="my-10 md:my-24 text-center">
                <h2 class="font-bold text-4xl mb-8">Are you <span class="text-primary">ready</span>?</h2>

                <div class="mx-auto max-w-4xl">
                    <p>Registration closes in</p>
                    {# TODO more human readable display & actual countdown in JS #}
                    <p class="text-xl mb-10">{{ registration_open_for }}</p>

                    {% for category_comp in open_competition.categorycompetition_set.all %}
                        <a href="{% url 'registration' category=category_comp.category %}" class="hero-btn">Register
                            ({{ category_comp.get_category_display }})</a>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% endif %}

    {#    {% trans "dynamic:intro" context branch.label %}#}

{% endblock %}

{% block footer %}
    <footer class="bg-primary-lighter md:mt-48 mt-32 md:py-24 py-12">
        <div class="container mx-auto px-2">
            <h2 class="font-bold text-primary text-2xl mb-8">Our Partners</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-6">
                <!-- The first one is representative -->
                {% for item in partners %}
                    <a href="{{ item.url }}"
                       class="bg-white h-24 md:h-32 rounded-md flex items-center justify-center p-4">
                        <img src="{{ item.image.url }}" class="max-w-full max-h-full" alt="{{ item.name }}">
                    </a>
                {% endfor %}
            </div>

            <h2 class="font-bold text-primary text-2xl mb-8 md:mt-16 mt-10">Organizers</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-6">
                {% for item in organizers %}
                    <a href="{{ item.url }}"
                       class="bg-white h-24 md:h-32 rounded-md flex items-center justify-center p-4">
                        <img src="{{ item.image.url }}" class="max-w-full max-h-full" alt="{{ item.name }}">
                    </a>
                {% endfor %}
            </div>

            <div class="text-gray-700 text-center md:mt-16 mt-10">&copy; Naboj IT Team {% now "Y" %}
                Timezone: {% now "e (O)" %}</div>
        </div>
    </footer>
{% endblock %}
