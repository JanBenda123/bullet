{% extends "web/base.html" %}
{% load bform %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Team registration" %}{% endblock %}
{% block hero %}
<h1 class="text-4xl md:text-6xl font-bold mt-8 md:mt-24 mb-4 md:mb-16">{% trans "Team registration" %}</h1>
{% endblock %}

{% block content %}

    <div class="mx-auto w-full max-w-4xl p-3 mt-10">
        <h2 class="font-bold text-2xl mb-6">{% trans "Category" %}</h2>

        <div class="text-left px-8 py-4 bg-gray-100 flex items-center rounded-md border">
            <div class="font-bold text-xl">
                {{ category_description.name }}
            </div>
            <a href="{% url 'register' %}" class="ml-auto shrink-0 text-primary hover:underline">
                {% trans "Change" %}
            </a>
        </div>

        <h2 class="font-bold text-2xl mb-6 mt-10">{% trans "Venue" %}</h2>

        <div class="text-left px-8 py-4 bg-gray-100 flex items-center rounded-md border">
            <div class="font-bold text-xl">
                {{ venue.name }}
            </div>
            <a href="{% url 'register_venue' %}" class="ml-auto shrink-0 text-primary hover:underline">
                {% trans "Change" %}
            </a>
        </div>

        <h2 class="font-bold text-2xl mb-6 mt-10">{% trans "School" %}</h2>

        <div class="text-left px-8 py-4 bg-gray-100 flex items-center rounded-md border">
            <div>
                <div class="font-bold text-xl">
                    {{ school.name }}
                </div>
                <div>{{ school.address }}</div>
            </div>
            <a href="{% url 'register_school' %}" class="ml-auto shrink-0 text-primary hover:underline">
                {% trans "Change" %}
            </a>
        </div>

        <h2 class="font-bold text-2xl mb-6 mt-10">{% trans "Contact information" %}</h2>

        <form method="POST" >
            {% csrf_token %}
            {% bform form %}

            <h2 class="font-bold text-2xl mb-2 mt-10">{% trans "Contestants" %}</h2>

            <div class="mb-6 text-gray-700">{% trans "You can change the list of contestants at any time before the start of the competition." %}</div>

            {{ formset.management_form }}

            <div class="grid grid-cols-1 md:grid-cols-registration gap-2 mb-4">
                <div class="w-auto md:block hidden"></div>
                <div class="hidden md:block">{% trans "Full name" %}</div>
                <div class="hidden md:block">{% trans "Birth year" %}</div>
                <div class="hidden md:block">{% trans "Grade" %}</div>

                {% for form in formset %}
                <div class="w-auto whitespace-nowrap text-xl {% if form.field.required %}font-bold{% endif %} mt-4 md:mt-0 md:py-3 md:text-base">{% blocktranslate with number=forloop.counter %}Contestant {{ number }}{% endblocktranslate %}</div>
                <div>
                    <label class="md:hidden font-bold {% if form.full_name.errors %}text-red-600{% endif %}" for="id_{{ form.full_name.html_name }}">{% trans "Full name" %}:</label>
                    {% bfield form.full_name %}
                </div>
                <div>
                    <label class="md:hidden font-bold {% if form.birth_year.errors %}text-red-600{% endif %}" for="id_{{ form.birth_year.html_name }}">{% trans "Birth year" %}:</label>
                    {% bfield form.birth_year %}
                </div>
                <div>
                    <label class="md:hidden font-bold {% if form.graduation_year.errors %}text-red-600{% endif %}" for="id_{{ form.graduation_year.html_name }}">{% trans "Grade" %}:</label>
                    {% bfield form.grade %}
                </div>
                {% endfor %}
            </div>

            <div class="text-red-600 mb-8">* {% trans "Required field" %}</div>

            <button type="submit" class="btn">{% trans "Register" %}</button>
        </form>
    </div>
{% endblock %}
